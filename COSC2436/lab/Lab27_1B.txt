package lab27_1;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

/**
 * Lab27_1B
 * @author Phuong Nguyen
 * This program will make a hash table of customer names and ID numbers
 */
public class Lab27_1B {

	public static void main(String[] args) throws FileNotFoundException {
		Customer[] customers = new Customer[10];
		File file = new File("Input27_1B.txt");
		Scanner inFile = new Scanner(file);
		while (inFile.hasNextLine()) {
			int id = inFile.nextInt();
			String name = inFile.nextLine().trim();
			int index = hashFunction(id);
			System.out.println("Name: " + name + " - " + "Hashcode: " + index);
			
			while (customers[index] != null) {
				index++;
				if (index == customers.length) 
					index = 0;
			}
			customers[index] = new Customer(id, name);
		}
		// Print hash table
		System.out.println();
		System.out.println("Hash Table: ");
		for (int i = 0; i < customers.length; i++) {
			if (customers[i] != null) {
				System.out.println(i + " - " + customers[i]);
			}
		}
	}
	
	public static int hashFunction(int key) {
		if (key < 10) {
			return key;
		}
		else {
			int newKey = 0;
			while (key > 0) {
				newKey += (key % 10);
				key /= 10;
			}
			return hashFunction(newKey);
		}
	}
}


// ---------- Customer class -----------

public class Customer {
	private int id;
	private String name;
	public Customer(int _id, String _name) {
		id = _id;
		name = _name;
	}
	
	public int getId() {
		return id;
	}
	
	public String toString() {
		return "Customer - ID: " + id + ", Name: " + name;
	}
}