package lab23;

/**
 * Lab23_2B
 * @author Phuong Nguyen
 * This program will sort the array of softwares by price and rating using bubble sort.
 */

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class Lab23_2B {

	public static void main(String[] args) throws FileNotFoundException {
		Software[] softwares = new Software[5];
		File file = new File("Input23_2B.txt");
		Scanner inFile = new Scanner(file);
		for (int i = 0; i < 5; i++) {
			String title = inFile.nextLine();
			double price = inFile.nextDouble();
			int rating = inFile.nextInt();
			softwares[i] = new Software(title, price, rating);
			
			if (inFile.hasNextLine()) {
				inFile.nextLine();
			}
		}
		
		bubbleSortByPrice(softwares);
		System.out.println("Sorted Array by Price");
		for (Software s : softwares) {
			System.out.println(s);
		}
		System.out.println();
		System.out.println("Sorted Array by Rating");
		bubbleSortByRating(softwares);
		for (Software s : softwares) {
			System.out.println(s);
		}
	}
	
	public static void bubbleSortByPrice(Software[] softwares) {
		boolean needNextPass = true;
		for (int k = 1; k < softwares.length && needNextPass; k++) {
			needNextPass = false;
			for (int i = 0; i < softwares.length - k; i++) {
				if (softwares[i].getPrice() > softwares[i + 1].getPrice()) {
					// Swap softwares[i] with softwares[i + 1]
					Software temp = softwares[i];
					softwares[i] = softwares[i + 1];
					softwares[i + 1] = temp;
					needNextPass = true; // Next pass still needed
				}
			}
		}
	}

	public static void bubbleSortByRating(Software[] softwares) {
		boolean needNextPass = true;
		for (int k = 1; k < softwares.length && needNextPass; k++) {
			needNextPass = false;
			for (int i = 0; i < softwares.length - k; i++) {
				if (softwares[i].getRating() > softwares[i + 1].getRating()) {
					// Swap softwares[i] with softwares[i + 1]
					Software temp = softwares[i];
					softwares[i] = softwares[i + 1];
					softwares[i + 1] = temp;
					needNextPass = true; // Next pass still needed
				}
			}
		}
	}
}

// Software class

public class Software {
	private String title;
	private double price;
	private int rating;
	
	public Software(String _title, double _price, int _rating) {
		title = _title;
		price = _price;
		rating = _rating;
	}
	
	public double getPrice() {
		return price;
	}
	
	public int getRating() {
		return rating;
	}
	
	public String toString() {
		return "Title: " + title + "\tPrice: " + String.format("%.2f", price) + "\tRating: " + rating;
	}
}

