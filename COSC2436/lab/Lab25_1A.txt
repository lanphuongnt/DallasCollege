package lab25_1;

/**
 * Lab25_1A
 * @author Phuong Nguyen
 * This program will create our own tree node class and use it to build a binary search tree
 */
import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class Lab25_1A {

	public static void main(String[] args) throws FileNotFoundException {
		BinarySearchTree bst = new BinarySearchTree();
		File file = new File("Input25_1A.txt");
		Scanner inFile = new Scanner(file);
		// Read value from file and insert to the tree
		while (inFile.hasNextInt()) {
			bst.insert(inFile.nextInt());
		}
		// Read input from user
		System.out.print("Enter an integer: ");
		Scanner scan = new Scanner(System.in);
		int input = scan.nextInt();
		// Search the integer in tree
		if (bst.search(input)) {
			System.out.println("The tree contains " + input);
		}
		else {
			System.out.println("The tree doesn't contain " + input);
		}
		
		System.out.println("Inorder traversal:");
		bst.inorder(bst.root);
	}

}

// ------------- TreeItem class ----------------
public class TreeItem {
	private int value;
	TreeItem left;
	TreeItem right;
	public TreeItem(int _value) {
		value = _value;
		left = null;
		right = null;
	}
	public int getValue() {
		return value;
	}
	public String toString() {
		return "TreeItem - Value: " + value;
	}
}

// --------------- BinarySearchTree class ------------------------

public class BinarySearchTree {
	TreeItem root;
	BinarySearchTree(){
		root = null;
	}
	public boolean insert(int value) {
		if (root == null) {
			root = new TreeItem(value);
		}
		else {
			TreeItem current = root;
			TreeItem parent = null;
			while (current != null) {
				if (value < current.getValue()) {
					parent = current;
					current = current.left;
				}
				else if (value > current.getValue()) {
					parent = current;
					current = current.right;
				}
				else {
					return false; // this value already exists
				}
			}
			// Create new node and attach it to the parent node
			if (value < parent.getValue()) {
				parent.left = new TreeItem(value);
			}
			else {
				parent.right = new TreeItem(value);
			}
		}
		return true; // Value inserted
	}
	public boolean search(int value) {
		TreeItem current = root;
		while (current != null) {
			if (value < current.getValue()) {
				current = current.left;
			}
			else if (value > current.getValue()) {
				current = current.right;
			}
			else 
				return true; // Item found
		}
		return false; // Item not found
	}
	public void inorder(TreeItem root) {
		if (root == null) {
			return;
		}
		inorder(root.left);
		System.out.print("Node " + root.getValue() + ": ");
		int count = 0;
		if (root.left != null) 
			count++;
		if (root.right != null) 
			count++;
		System.out.println(count + " child(ren)");
		inorder(root.right);
	}
}
