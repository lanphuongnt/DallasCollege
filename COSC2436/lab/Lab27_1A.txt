package lab27_1;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

/**
 * Lab27_1A
 * @author Phuong Nguyen
 * This program will create a hash table
 */

public class Lab27_1A {

	public static void main(String[] args) throws FileNotFoundException {
		String[] strings = new String[30];
		File file = new File("Input27_1A.txt");
		Scanner inFile = new Scanner(file);
		// Read data
		while (inFile.hasNextLine()) {
			String str = inFile.nextLine();
			int index = hashFunction(str);
			while (strings[index] != null) {
				index++;
				if (index >= strings.length) 
					index = 0;
			}
			strings[index] = str;
			System.out.println(index + " - " + str);
		}
		// Print hash table
		System.out.println();
		System.out.println("Hash Table: ");
		for (int i = 0; i < strings.length; i++) {
			if (strings[i] != null) {
				System.out.println(i + " - " + strings[i]);
			}
		}
		
		// Find the spots before finding out the string
		int count = 0;
		Scanner scan = new Scanner(System.in);
		System.out.print("Enter a string: ");
		String input = scan.nextLine();
		int index = hashFunction(input);
		while (count < strings.length) {
			if (strings[index] != null) {
				if (strings[index].equals(input)) {
					break;
				}
			}
			index++;
			count++;
			if (index >= strings.length)
				index = 0;
		}
		
		if (strings[index].equals(input)) // found
			System.out.println("The string is found after " + count + " spots");
		else {
			System.out.println("The string is not found after " + count + " spots");
		}
	}

	public static int hashFunction(String value) {
		value = value.toLowerCase();
		return value.charAt(0) - 'a' + 1;
	}	
}
